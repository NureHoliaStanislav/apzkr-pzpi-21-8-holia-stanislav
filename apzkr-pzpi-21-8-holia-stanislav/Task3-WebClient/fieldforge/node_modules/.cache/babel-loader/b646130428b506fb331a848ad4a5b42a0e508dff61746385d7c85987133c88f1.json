{"ast":null,"code":"import axios from 'axios';\nimport { jwtDecode } from 'jwt-decode';\nclass AuthService {\n  login(credentials) {\n    return axios.post('/api/user/login', credentials).then(response => {\n      const token = response.data.token;\n      localStorage.setItem('token', token);\n      return jwtDecode(token);\n    });\n  }\n  logout() {\n    localStorage.removeItem('token');\n  }\n  getCurrentUser() {\n    try {\n      const token = localStorage.getItem('token');\n      return jwtDecode(token);\n    } catch (ex) {\n      return null;\n    }\n  }\n}\nconst authServiceInstance = new AuthService();\nexport default authServiceInstance;","map":{"version":3,"names":["axios","jwtDecode","AuthService","login","credentials","post","then","response","token","data","localStorage","setItem","logout","removeItem","getCurrentUser","getItem","ex","authServiceInstance"],"sources":["/home/stanislav/Desktop/NURE/works/3 курс/2 семестр/апз/apz-pzpi-21-8-holia-stanislav/Task4/apz-pzpi-21-8-holia-stanislav-task4/fieldforge/src/shared/AuthService.js"],"sourcesContent":["import axios from 'axios';\nimport { jwtDecode } from 'jwt-decode';\n\nclass AuthService {\n  login(credentials) {\n    return axios\n      .post('/api/user/login', credentials)\n      .then(response => {\n        const token = response.data.token;\n        localStorage.setItem('token', token);\n        return jwtDecode(token);\n      });\n  }\n\n  logout() {\n    localStorage.removeItem('token');\n  }\n\n  getCurrentUser() {\n    try {\n      const token = localStorage.getItem('token');\n      return jwtDecode(token);\n    } catch (ex) {\n      return null;\n    }\n  }\n}\n\nconst authServiceInstance = new AuthService();\n\nexport default authServiceInstance;"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAQ,YAAY;AAEtC,MAAMC,WAAW,CAAC;EAChBC,KAAKA,CAACC,WAAW,EAAE;IACjB,OAAOJ,KAAK,CACTK,IAAI,CAAC,iBAAiB,EAAED,WAAW,CAAC,CACpCE,IAAI,CAACC,QAAQ,IAAI;MAChB,MAAMC,KAAK,GAAGD,QAAQ,CAACE,IAAI,CAACD,KAAK;MACjCE,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEH,KAAK,CAAC;MACpC,OAAOP,SAAS,CAACO,KAAK,CAAC;IACzB,CAAC,CAAC;EACN;EAEAI,MAAMA,CAAA,EAAG;IACPF,YAAY,CAACG,UAAU,CAAC,OAAO,CAAC;EAClC;EAEAC,cAAcA,CAAA,EAAG;IACf,IAAI;MACF,MAAMN,KAAK,GAAGE,YAAY,CAACK,OAAO,CAAC,OAAO,CAAC;MAC3C,OAAOd,SAAS,CAACO,KAAK,CAAC;IACzB,CAAC,CAAC,OAAOQ,EAAE,EAAE;MACX,OAAO,IAAI;IACb;EACF;AACF;AAEA,MAAMC,mBAAmB,GAAG,IAAIf,WAAW,CAAC,CAAC;AAE7C,eAAee,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}